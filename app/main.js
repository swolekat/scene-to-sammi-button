(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("path");var n=e.n(t);const r=require("electron"),i={label:"App",submenu:[{label:"Quit",accelerator:"CmdOrCtrl+Q",click:()=>{r.app.quit()}}]},o=require("fs");var a=e.n(o);const s=require("fs-jetpack");var c=e.n(s);const l=require("url");var d=e.n(l);let u;const h=n().join(process.env.APPDATA,"../Roaming/obs-studio/basic/scenes/");r.app.on("ready",(()=>{(()=>{const e=[i];r.Menu.setApplicationMenu(r.Menu.buildFromTemplate(e))})(),r.ipcMain.on("need-obs-data",((e,t)=>{const r=a().readdirSync(h).filter((e=>!e.includes(".bak"))).reduce(((e,t)=>{const r=JSON.parse(`${a().readFileSync(n().join(h,t))}`);return[...e,{name:t.replace(".json",""),contents:r}]}),[]);e.reply("obs-data",{sceneCollectionData:r})})),u=((e,t)=>{const n=c().cwd(r.app.getPath("userData")),i=`window-state-${e}.json`,o={width:t.width,height:t.height};let a,s={};return s=(e=>{const t=r.screen.getAllDisplays().some((t=>((e,t)=>e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height)(e,t.bounds)));return t?e:(()=>{const e=r.screen.getPrimaryDisplay().bounds;return Object.assign({},o,{x:(e.width-o.width)/2,y:(e.height-o.height)/2})})()})((()=>{let e={};try{e=n.read(i,"json")}catch(e){}return Object.assign({},o,e)})()),a=new r.BrowserWindow(Object.assign({},t,s)),a.on("close",(()=>{a.isMinimized()||a.isMaximized()||Object.assign(s,(()=>{const e=a.getPosition(),t=a.getSize();return{x:e[0],y:e[1],width:t[0],height:t[1]}})()),n.write(i,s,{atomic:!0})})),a})("main",{width:1e3,height:600,webPreferences:{nodeIntegration:!0,contextIsolation:!1,enableRemoteModule:!1,backgroundThrottling:!1}}),u.loadURL(d().format({pathname:n().join(__dirname,"app.html"),protocol:"file:",slashes:!0}))})),r.app.on("window-all-closed",(()=>{r.app.quit()}))})();
//# sourceMappingURL=main.js.map